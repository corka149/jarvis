<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>
      <%= gettext "Jarvis Â· May I help you" %>
    </title>
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.5/build/pure-min.css" integrity="sha384-LTIDeidl25h2dPxrB2Ekgc9c7sEC3CWGM6HeFmuDNUjX76Ert4Z4IY714dhZHPLd" crossorigin="anonymous">
    <link rel="stylesheet" href="<%= Routes.static_path(@conn, "/css/app.css") %>"/>
  </head>
  <body>
    <div id="layout">
      <!-- Menu toggle -->
      <a href="#menu" id="menuLink" class="menu-link">
          <!-- Hamburger icon -->
          <span></span>
      </a>

      <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="#jarvis">jARVIS</a>

            <ul class="pure-menu-list">
              <%= if @conn.assigns[:user] do %>
                <!-- SHOPPING LIST -->
                <li class="pure-menu-item menu-item-divided menu-item-header">
                  <%= gettext("Shopping list") %>
                </li>
                <li class="pure-menu-item">
                  <%= link gettext("All lists"), to: Routes.shopping_list_path(@conn, :index), class: "pure-menu-link" %>
                </li>
                <li class="pure-menu-item">
                  <%= link gettext("Current lists"), to: Routes.shopping_list_path(@conn, :index_open_lists), class: "pure-menu-link" %>
                </li>

                <!-- USER GROUPS -->
                <li class="pure-menu-item menu-item-divided menu-item-header">
                  <%= gettext("User groups") %>
                </li>
                <li class="pure-menu-item">
                  <%= link gettext("Management"), to: Routes.user_group_path(@conn, :index), class: "pure-menu-link" %>
                </li>
                <li class="pure-menu-item">
                  <%= link gettext("Membership"), to: Routes.invitation_path(@conn, :index), class: "pure-menu-link" %>
                </li>

                <!-- OTHER -->
                <li class="pure-menu-item menu-item-divided">
                  <%= link gettext("User settings"), to: Routes.user_path(@conn, :show), class: "pure-menu-link" %>
                </li>
                <li class="pure-menu-item">
                  <%= link gettext("Sign out"), to: Routes.auth_path(@conn, :signout), class: "pure-menu-link" %>
                </li>
              <% else %>
                <li class="pure-menu-item">
                  <%= link gettext("Sign in"), to: Routes.auth_path(@conn, :signin), class: "pure-menu-link" %>
                </li>
              <% end %>
            </ul>
        </div>
      </div>

      <div id="main">
        <div class="header">
            <h1>
              <a href="/" class="brand-logo">
                <img class="pure-img" src="<%= Routes.static_path(@conn, "/images/logo_jarvis.svg") %>" alt="jARVIS">
              </a>
            </h1>
            <h2>Your friendly assistent</h2>
        </div>

        <div class="content">
          <p class="alert alert-info center-align" role="alert"><%= get_flash(@conn, :info) %></p>
          <p class="alert alert-danger center-align" role="alert"><%= get_flash(@conn, :error) %></p>
          <%= @inner_content %>
        </div>
      </div>
    </div>

    <script type="text/javascript" src="<%= Routes.static_path(@conn, "/js/app.js") %>"></script>

    <script>
      initMenu(this, this.document);
    </script>
  </body>
</html>
